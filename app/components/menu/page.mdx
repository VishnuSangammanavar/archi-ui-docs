import { Tabs, Table } from 'nextra/components'
import BasicMenu from '../../../src/demo/menu/BasicMenu.jsx'
import IconMenu from '../../../src/demo/menu/IconMenu.jsx'
import DenseMenu from '../../../src/demo/menu/DenseMenu.jsx'
import SelectedMenu from '../../../src/demo/menu/SelectedMenu.jsx'
import AccountMenu from '../../../src/demo/menu/AccountMenu.jsx'
import MaxHeightMenu from '../../../src/demo/menu/MaxHeightMenu.jsx'

# Menu

A menu displays a list of choices on a temporary surface. It appears when the user interacts with a button, or other control.

Menus are implemented using a collection of related components:

- Menu: The container/surface of the menu.
- Menu Item: An option for users to select from the menu.
- Menu List (optional): Alternative composable container for Menu Items for details.

## Basic Menu
A basic menu opens over the anchor element by default. When close to a screen edge, a basic menu vertically realigns to make sure that all menu items are completely visible.

You should configure the component so that selecting an option immediately confirms it and closes the menu, as shown in the demo below.

<Tabs items={['Preview', 'code']}>
  <Tabs.Tab value='Preview'>
    <BasicMenu />
  </Tabs.Tab>
  <Tabs.Tab value='Code'>
    ```jsx showLineNumbers
    import React, { useState } from 'react';
    import Menu from 'archi-ui/Menu'
    import MenuItem from 'archi-ui/MenuItem'
    import Button from 'archi-ui/Button'

    export default function MyReactPage() {

      const [anchorEl, setAnchorEl] = useState(null);
      const open = Boolean(anchorEl);

      const handleClick = (e) => {
        setAnchorEl(e.currentTarget);
      }

      const handleClose = () => {
        setAnchorEl(null);
      }

      return (
        <React.Fragment>
          <Button variant='outlined' onClick={handleClick}>
            Open Menu
          </Button>
          <Menu open={open} onClose={handleClose} anchorEl={anchorEl}>
            <MenuItem onClick={handleClose}>Profile</MenuItem>
            <MenuItem onClick={handleClose}>My account</MenuItem>
            <MenuItem onClick={handleClose}>Settings</MenuItem>
            <MenuItem onClick={handleClose}>Logout</MenuItem>
          </Menu>
        </React.Fragment>
      );
    }
    ```
  </Tabs.Tab>
</Tabs>

## Usage
```jsx
import Menu from 'archi-ui/Menu'
import MenuItem from 'archi-ui/MenuItem'
// or
import { Menu, MenuItem } from 'archi-ui'
```
```jsx
<Menu open={true}>
  <MenuItem divider>Item 1</MenuItem>
  <MenuItem divider>Item 2</MenuItem>
  <MenuItem divider>Item 3</MenuItem>
  <MenuItem divider>Item 4</MenuItem>
</Menu>
```

## Icon menu
The `Menu` comes with three variants: outlined(default), filled, standard.

<Tabs items={['Preview', 'code']}>
  <Tabs.Tab value='Preview'>
    <IconMenu />
  </Tabs.Tab>
  <Tabs.Tab value='Code'>
    ```jsx showLineNumbers
    import React from 'react';
    import MenuList from 'archi-ui/MenuList'
    import MenuItem from 'archi-ui/MenuItem'
    import ListItemText from 'archi-ui/ListItemText'
    import ListItemIcon from 'archi-ui/ListItemIcon'
    import Typography from 'archi-ui/Typography'

    export default function MyReactPage() {
      return (
        <div className='flex items-center justify-center'>
          <MenuList>
            <MenuItem divider>
              <ListItemIcon>
                'x'
              </ListItemIcon>
              <ListItemText primary='Cut' />
              <Typography variant='caption'>Clt + X</Typography>
            </MenuItem>
            <MenuItem divider>
              <ListItemIcon>
                'c'
              </ListItemIcon>
              <ListItemText primary='Copy' />
              <Typography variant='caption'>Clt+C</Typography>
            </MenuItem>
            <MenuItem divider>
              <ListItemIcon>
                'v'
              </ListItemIcon>
              <ListItemText primary='Paste' />
              <Typography variant='caption'>Clt+V</Typography>
            </MenuItem>
          </MenuList>
        </div>
      );
    }
    ```
  </Tabs.Tab>
</Tabs>

## Dense menu
For the menu taht has long list and long text, you can use the `dense` prop in `MenuItem` component to reduce the padding and text size.

<Tabs items={['Preview', 'code']}>
  <Tabs.Tab value='Preview'>
    <DenseMenu />
  </Tabs.Tab>
  <Tabs.Tab value='Code'>
    ```jsx showLineNumbers
    import React from 'react';
    import MenuList from 'archi-ui/MenuList'
    import MenuItem from 'archi-ui/MenuItem'
    import ListItemText from 'archi-ui/ListItemText'
    import ListItemIcon from 'archi-ui/ListItemIcon'
    import Divider from 'archi-ui/Divider'

    export default function MyReactPage() {
      return (
        <div className='flex items-center justify-center'>
          <MenuList>
            <MenuItem dense>
              <ListItemText inset primary='View' />
            </MenuItem>
            <MenuItem dense>
              <ListItemText inset primary='Short by' />
            </MenuItem>
            <MenuItem dense>
              <ListItemText inset primary='Refresh' />
            </MenuItem>
            <Divider />
            <MenuItem dense>
              <ListItemIcon>Add</ListItemIcon>
              <ListItemText primary='New' />
            </MenuItem>
            <Divider />
            <MenuItem dense>
              <ListItemText primary='Display setting' />
            </MenuItem>
            <MenuItem dense>
              <ListItemText primary='Personalize' />
            </MenuItem>
            <Divider />
            <MenuItem dense>
              <ListItemText primary='Open in terminal' />
            </MenuItem>
            <Divider />
            <MenuItem dense>
              <ListItemText primary='Show more options' />
            </MenuItem>
          </MenuList>
        </div>
      );
    }
    ```
  </Tabs.Tab>
</Tabs>

## Selected menu
If used for item selection, when opened, simple menus places the initial focus on the selected menu item. The currently selected menu item is set using the selected prop from MenuItem.

<Tabs items={['Preview', 'code']}>
  <Tabs.Tab value='Preview'>
    <SelectedMenu />
  </Tabs.Tab>
  <Tabs.Tab value='Code'>
    ```jsx showLineNumbers
    import React, { useState } from 'react';
    import Menu from 'archi-ui/Menu'
    import MenuItem from 'archi-ui/MenuItem'
    import Button from 'archi-ui/Button'
    import Typography from 'archi-ui/Typography'

    export default function MyReactPage() {

      const options = [
        'Profile',
        'My account',
        'Add another account',
        'Settings',
        'Logout'
      ];

      const [anchorEl, setAnchorEl] = useState(null);
      const [selectedIndex, setSelectedIndex] = useState(1);
      const open = Boolean(anchorEl);

      const handleClick = (e) => {
        setAnchorEl(e.currentTarget);
      }

      const handleMenuItemClick = (index) => {
        setSelectedIndex(index);
        setAnchorEl(null);
      }

      const handleClose = () => {
        setAnchorEl(null);
      }

      return (
        <div className='flex flex-col items-center justify-center gap-4'>
          <Typography>{options[selectedIndex]}</Typography>
          <Button variant='outlined' onClick={handleClick}>
            Open Menu
          </Button>
          <Menu open={open} onClose={handleClose} anchorEl={anchorEl}>
            {options.map((option, index) => (
              <MenuItem
                key={index}
                selected={index === selectedIndex}
                disabled={index === 0}
                onClick={() => handleMenuItemClick(index)}
              >
                {option}
              </MenuItem>
            ))}
          </Menu>
        </div>
      );
    }
    ```
  </Tabs.Tab>
</Tabs>

## Account menu
If used for item selection, when opened, simple menus places the initial focus on the selected menu item. The currently selected menu item is set using the selected prop from MenuItem.

<Tabs items={['Preview', 'code']}>
  <Tabs.Tab value='Preview'>
    <AccountMenu />
  </Tabs.Tab>
  <Tabs.Tab value='Code'>
    ```jsx showLineNumbers
    import React, { useState } from 'react';
    import Menu from 'archi-ui/Menu'
    import MenuItem from 'archi-ui/MenuItem'
    import Avatar from 'archi-ui/Avatar'
    import ListItemIcon from 'archi-ui/ListItemIcon'
    import Typography from 'archi-ui/Typography'

    export default function MyReactPage() {

      const [anchorEl, setAnchorEl] = useState(null);
      const open = Boolean(anchorEl);

      const handleClick = (e) => {
        setAnchorEl(e.currentTarget);
      }

      const handleClose = () => {
        setAnchorEl(null);
      }

      return (
        <div className='flex h-12 items-center justify-end gap-4 bg-primary'>
          <Typography>Home</Typography>
          <Typography>About</Typography>
          <Typography>Task</Typography>
          <Avatar onClick={handleClick} size='sm' className='mr-2 cursor-pointer'>V</Avatar>
          <Menu open={open} onClose={handleClose} anchorEl={anchorEl}>
            <MenuItem onClick={handleClose}>
              <Avatar size='sm' /> Profile
            </MenuItem>
            <MenuItem onClick={handleClose}>
              <Avatar size='sm' /> My account
            </MenuItem>
            <MenuItem onClick={handleClose}>
              <ListItemIcon>
                Add
              </ListItemIcon>
              Add another account
            </MenuItem>
            <MenuItem onClick={handleClose}>
              <ListItemIcon>
                S
              </ListItemIcon>
              Settings
            </MenuItem>
            <MenuItem onClick={handleClose}>
              <ListItemIcon>
                L
              </ListItemIcon>
              Logout
            </MenuItem>
          </Menu>
        </div>
      );
    }
    ```
  </Tabs.Tab>
</Tabs>

## Max height menu
If used for item selection, when opened, simple menus places the initial focus on the selected menu item. The currently selected menu item is set using the selected prop from MenuItem.

<Tabs items={['Preview', 'code']}>
  <Tabs.Tab value='Preview'>
    <MaxHeightMenu />
  </Tabs.Tab>
  <Tabs.Tab value='Code'>
    ```jsx showLineNumbers
    import React, { useState } from 'react';
    import Menu from 'archi-ui/Menu'
    import MenuItem from 'archi-ui/MenuItem'
    import Button from 'archi-ui/Button'

    export default function MyReactPage() {

      const [anchorEl, setAnchorEl] = useState(null)
      const open = Boolean(anchorEl);

      const handleClick = (e) => {
        setAnchorEl(e.currentTarget);
      }

      const handleClose = () => {
        setAnchorEl(null);
      }

      return (
        <React.Fragment>
          <Button variant='outlined' onClick={handleClick}>
            Open Menu
          </Button>
          <Menu open={open} onClose={handleClose} anchorEl={anchorEl}>
            <MenuItem divider onClick={handleClose}>Item 1</MenuItem>
            <MenuItem divider onClick={handleClose}>Item 2</MenuItem>
            <MenuItem divider onClick={handleClose}>Item 3</MenuItem>
            <MenuItem divider onClick={handleClose}>Item 4</MenuItem>
          </Menu>
        </React.Fragment>
      );
    }
    ```
  </Tabs.Tab>
</Tabs>

## Menu API
API reference docs for the React Menu component.

### Props
<Table>
  <thead>
    <Table.Tr>
      <Table.Th>Name</Table.Th>
      <Table.Th>Type</Table.Th>
      <Table.Th>Default</Table.Th>
      <Table.Th>Description</Table.Th>
    </Table.Tr>
  </thead>
  <tbody>
    <Table.Tr>
      <Table.Td>children</Table.Td>
      <Table.Td>`node`</Table.Td>
      <Table.Td>-</Table.Td>
      <Table.Td>Menu contents, normally `MenuItem`.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>className</Table.Td>
      <Table.Td>`string`</Table.Td>
      <Table.Td>-</Table.Td>
      <Table.Td>Override or extend the styles applied to the component</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>open</Table.Td>
      <Table.Td>`bool`</Table.Td>
      <Table.Td>-</Table.Td>
      <Table.Td>If `true`, the component is shown.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>anchorEl</Table.Td>
      <Table.Td>`HTML element | func`</Table.Td>
      <Table.Td>-</Table.Td>
      <Table.Td>An HTML element, or a function that returns one. It's used to set the position of the menu.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>onClose</Table.Td>
      <Table.Td>`func`</Table.Td>
      <Table.Td>-</Table.Td>
      <Table.Td>Callback fired when the component is requests to be closed. <br /> Signature: `function() => void`.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>disableEscapeKeyDown</Table.Td>
      <Table.Td>`bool`</Table.Td>
      <Table.Td>`false`</Table.Td>
      <Table.Td>If `true`, hitting escape will not fire the onClose callback.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>onBackdropClick</Table.Td>
      <Table.Td>`func`</Table.Td>
      <Table.Td>-</Table.Td>
      <Table.Td>A function is triggred if provided when backdrop is been clicked.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>BackdropProps</Table.Td>
      <Table.Td>`object`</Table.Td>
      <Table.Td>-</Table.Td>
      <Table.Td>Props applied to the `Backdrop` element.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>hideBackdrop</Table.Td>
      <Table.Td>`bool`</Table.Td>
      <Table.Td>`false`</Table.Td>
      <Table.Td>If `true`, the backdrop is not rendered.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>scrollLock</Table.Td>
      <Table.Td>`bool`</Table.Td>
      <Table.Td>`true`</Table.Td>
      <Table.Td>Disable the scroll lock behavior.</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>anchorOrigin</Table.Td>
      <Table.Td>`{ horizontal: 'center'|'left'|'right', vertical: 'center'|'bottom'|'top' }`</Table.Td>
      <Table.Td>`{ vertical:'bottom', horizontal:'left' }`</Table.Td>
      <Table.Td>This is the point on the anchor where the Menu's `anchorEl` wil attach to.<br /> Options: vertical: [top, center, bottom], horizontal: [left, center, right].</Table.Td>
    </Table.Tr>
    <Table.Tr>
      <Table.Td>transformOrigin</Table.Td>
      <Table.Td>`{ horizontal: 'center'|'left'|'right', vertical: 'center'|'bottom'|'top' }`</Table.Td>
      <Table.Td>`{ vertical:'top', horizontal:'left' }`</Table.Td>
      <Table.Td>This is the point on the Menu which will attach to the anchor's origin.<br /> Options: vertical: [top, center, bottom], horizontal: [left, center, right].</Table.Td>
    </Table.Tr>
  </tbody>
</Table>
